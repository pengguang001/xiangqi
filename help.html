<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

        <style type="text/css">
        h2 {border-top:2px solid #8080ff;}
        h3.headline {
            background-color: #0097a7;
        }
        img {
            display: inline;
            height: auto;
            max-width: 100%;
        }
        .class1 {
            height:0px;
            max-width:100%;
            transition:max-height 1s;
            overflow:hidden;
        }
        </style>
        <script>
        function show(a) {
            if (a.text == "显示") {
                a.text = "隐藏";
                document.getElementById('id1').style.height= "auto";
                var images = document.querySelectorAll("#id1 img");
                for(var i = 0; i < images.length; i++)
                {
                    images[i].src = images[i].getAttribute('data-src');
                }
            } else {
                a.text = "显示";
                document.getElementById('id1').style.height= "0";
            }
        }
        </script>
    </head>

    <body>
        <h3 class="headline">生成棋谱动图</h3>
        <a href="#" onclick="show(this)">显示</a>
        <div id="id1" class="class1">
            <img data-src="1.gif">
        </div>
    </body>
</html>
